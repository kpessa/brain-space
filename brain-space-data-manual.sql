-- Brain Space Data Migration - Manual User ID Replacement
-- INSTRUCTIONS:
-- 1. First log into your production app with Google to create the auth user
-- 2. Run: SELECT auth.uid(); to get your production user ID
-- 3. Replace 'YOUR_PRODUCTION_USER_ID_HERE' with your actual user ID in all queries below
-- 4. Then run this script

-- Check current user (run this first to get your ID)
SELECT auth.uid() as your_production_user_id, auth.email() as your_email;

-- Insert/Update user profile (replace YOUR_PRODUCTION_USER_ID_HERE)
INSERT INTO "public"."profiles" ("id", "username", "avatar_url", "created_at", "updated_at") VALUES
    ('YOUR_PRODUCTION_USER_ID_HERE', NULL, NULL, NOW(), NOW())
ON CONFLICT (id) DO UPDATE SET
    updated_at = NOW();

-- Insert/Update user progress (replace YOUR_PRODUCTION_USER_ID_HERE)
INSERT INTO "public"."user_progress" ("user_id", "level", "current_xp", "total_xp", "current_streak", "longest_streak", "total_entries", "achievements", "last_entry_date", "created_at", "updated_at") VALUES
    ('YOUR_PRODUCTION_USER_ID_HERE', 1, 65, 65, 1, 1, 1, '[]', '2025-07-21 15:32:06.628+00', NOW(), NOW())
ON CONFLICT (user_id) DO UPDATE SET
    level = 1,
    current_xp = 65,
    total_xp = 65,
    current_streak = 1,
    longest_streak = 1,
    total_entries = 1,
    achievements = '[]',
    last_entry_date = '2025-07-21 15:32:06.628+00',
    updated_at = NOW();

-- Insert journal entry (replace YOUR_PRODUCTION_USER_ID_HERE)
INSERT INTO "public"."journal_entries" ("id", "user_id", "date", "gratitude", "daily_quest", "threats", "allies", "notes", "xp_earned", "created_at", "updated_at") VALUES
    ('entry-production-import', 'YOUR_PRODUCTION_USER_ID_HERE', '2025-07-21 15:32:06.628+00', '{family,"Weverton and Jessenia",Leo,PTO,"having a job"}', 'Scooter!', '', '', '', 65, '2025-07-21 15:32:06.628+00', NOW())
ON CONFLICT (id) DO UPDATE SET
    gratitude = '{family,"Weverton and Jessenia",Leo,PTO,"having a job"}',
    daily_quest = 'Scooter!',
    updated_at = NOW();

-- Insert brain dump data (replace YOUR_PRODUCTION_USER_ID_HERE) 
INSERT INTO "public"."brain_dumps" ("id", "user_id", "title", "raw_text", "nodes", "edges", "categories", "created_at", "updated_at") VALUES
    ('braindump-production-import', 'YOUR_PRODUCTION_USER_ID_HERE', 'Brain Dump - Imported from Local', 'Timebox', '[{"id": "root", "data": {"label": "Brain Dump", "children": ["category-misc", "41152083-f571-46b0-9f12-a255833015b3", "40d366ab-0fe5-4f7f-a22c-a37b195c2110", "ec2efc68-1353-46bc-a21d-c4476496d12d"], "layoutMode": "freeform", "isCollapsed": false, "parentLayoutMode": "freeform"}, "type": "root", "dragging": false, "measured": {"width": 154, "height": 44}, "position": {"x": 0, "y": 275}, "selected": false}, {"id": "category-misc", "data": {"label": "ToDo", "urgency": 4.161444122211609, "category": "misc", "children": ["thought-1753103063651-0", "407a4e38-9068-424d-99ff-cee772709f3d", "72814e48-970a-4ea9-bce4-db0900b724dc", "8cc0b365-356a-41cc-8ad3-b64127e0008f"], "importance": 5.621901688502335, "layoutMode": "freeform", "isCollapsed": false, "parentLayoutMode": "freeform"}, "type": "category", "dragging": false, "measured": {"width": 164, "height": 48}, "position": {"x": 200, "y": 47.86862622687345}, "selected": false}, {"id": "thought-1753103063651-0", "data": {"label": "Timebox", "urgency": 5.098426122973015, "category": "misc", "children": [], "importance": 8.115075629572491, "layoutMode": "freeform", "aiGenerated": false, "isTimedTask": true, "timeboxDate": "2025-07-22", "originalText": "Timebox", "timeboxDuration": 120, "parentLayoutMode": "freeform", "timeboxStartTime": "10:00"}, "type": "thought", "dragging": false, "measured": {"width": 200, "height": 40}, "position": {"x": 461.4882870144569, "y": 0}, "selected": false}, {"id": "41152083-f571-46b0-9f12-a255833015b3", "data": {"label": "Body", "style": {"textColor": "#065f46", "borderColor": "#10b981", "backgroundColor": "#d1fae5"}, "width": 195, "height": 49, "category": "misc", "children": ["b8850171-2f9c-4b4d-a445-063a42062fa8", "3a9a9ae7-a07e-4df1-aa9f-8f3d04117ebf"], "layoutMode": "freeform", "isCollapsed": false, "parentLayoutMode": "freeform"}, "type": "thought", "dragging": false, "measured": {"width": 200, "height": 49}, "position": {"x": -234.63200007357563, "y": 373.4744271236448}, "selected": false}, {"id": "b8850171-2f9c-4b4d-a445-063a42062fa8", "data": {"label": "rollerblade", "urgency": 5.781296526357758, "category": "misc", "children": [], "importance": 8.671944789536637, "layoutMode": "freeform", "isCollapsed": false, "isTimedTask": true, "timeboxDate": "2025-07-22", "timeboxDuration": 120, "parentLayoutMode": "freeform", "timeboxStartTime": "14:00"}, "type": "thought", "dragging": false, "measured": {"width": 200, "height": 40}, "position": {"x": -497.8593817620749, "y": 393.1251995696598}, "selected": false}, {"id": "40d366ab-0fe5-4f7f-a22c-a37b195c2110", "data": {"label": "Work", "width": 200, "height": 45, "category": "misc", "children": ["3f14a1da-ffa9-403e-8d1a-0d839f314350", "fbab7305-c9e9-46b0-a105-1b3594dbb430", "a46039e7-d210-45d4-9149-46a8c61853c1", "75fc30a8-6a2d-4486-81f5-adcd88028141", "e194dc25-d2d3-40a3-bb0f-86629015ac94"], "layoutMode": "freeform", "isCollapsed": false, "parentLayoutMode": "freeform"}, "type": "thought", "dragging": false, "measured": {"width": 200, "height": 45}, "position": {"x": 200, "y": 450}, "selected": false}, {"id": "3f14a1da-ffa9-403e-8d1a-0d839f314350", "data": {"label": "Immunizations", "urgency": 4.581569099913263, "category": "misc", "children": [], "importance": 7.472217363092142, "layoutMode": "freeform", "isCollapsed": false, "parentLayoutMode": "freeform"}, "type": "thought", "dragging": false, "measured": {"width": 200, "height": 40}, "position": {"x": 457.43491774985176, "y": 419.52787203494955}, "selected": false}, {"id": "407a4e38-9068-424d-99ff-cee772709f3d", "data": {"label": "Scooter", "dueDate": "2025-07-23T14:18:37.246Z", "urgency": 9.163138199826527, "category": "misc", "children": [], "importance": 8.740877332749506, "layoutMode": "freeform", "taskStatus": "pending", "isCollapsed": false, "isTimedTask": true, "timeboxDate": "2025-07-21", "timeboxDuration": 120, "parentLayoutMode": "freeform", "timeboxStartTime": "14:00", "autoUrgencyFromDueDate": true}, "type": "thought", "dragging": false, "measured": {"width": 200, "height": 40}, "position": {"x": 473.5186040390246, "y": 69.25585649277151}, "selected": false}]', '[]', '[{"id": "ideas", "name": "Ideas", "color": "#3b82f6", "nodeCount": 0}, {"id": "tasks", "name": "Tasks", "color": "#10b981", "nodeCount": 0}, {"id": "questions", "name": "Questions", "color": "#f59e0b", "nodeCount": 0}, {"id": "insights", "name": "Insights", "color": "#8b5cf6", "nodeCount": 0}, {"id": "problems", "name": "Problems", "color": "#ef4444", "nodeCount": 0}, {"id": "misc", "name": "Miscellaneous", "color": "#6b7280", "nodeCount": 2}]', NOW(), NOW())
ON CONFLICT (id) DO UPDATE SET
    title = 'Brain Dump - Imported from Local',
    nodes = '[{"id": "root", "data": {"label": "Brain Dump", "children": ["category-misc", "41152083-f571-46b0-9f12-a255833015b3", "40d366ab-0fe5-4f7f-a22c-a37b195c2110", "ec2efc68-1353-46bc-a21d-c4476496d12d"], "layoutMode": "freeform", "isCollapsed": false, "parentLayoutMode": "freeform"}, "type": "root", "dragging": false, "measured": {"width": 154, "height": 44}, "position": {"x": 0, "y": 275}, "selected": false}, {"id": "category-misc", "data": {"label": "ToDo", "urgency": 4.161444122211609, "category": "misc", "children": ["thought-1753103063651-0", "407a4e38-9068-424d-99ff-cee772709f3d", "72814e48-970a-4ea9-bce4-db0900b724dc", "8cc0b365-356a-41cc-8ad3-b64127e0008f"], "importance": 5.621901688502335, "layoutMode": "freeform", "isCollapsed": false, "parentLayoutMode": "freeform"}, "type": "category", "dragging": false, "measured": {"width": 164, "height": 48}, "position": {"x": 200, "y": 47.86862622687345}, "selected": false}, {"id": "thought-1753103063651-0", "data": {"label": "Timebox", "urgency": 5.098426122973015, "category": "misc", "children": [], "importance": 8.115075629572491, "layoutMode": "freeform", "aiGenerated": false, "isTimedTask": true, "timeboxDate": "2025-07-22", "originalText": "Timebox", "timeboxDuration": 120, "parentLayoutMode": "freeform", "timeboxStartTime": "10:00"}, "type": "thought", "dragging": false, "measured": {"width": 200, "height": 40}, "position": {"x": 461.4882870144569, "y": 0}, "selected": false}, {"id": "41152083-f571-46b0-9f12-a255833015b3", "data": {"label": "Body", "style": {"textColor": "#065f46", "borderColor": "#10b981", "backgroundColor": "#d1fae5"}, "width": 195, "height": 49, "category": "misc", "children": ["b8850171-2f9c-4b4d-a445-063a42062fa8", "3a9a9ae7-a07e-4df1-aa9f-8f3d04117ebf"], "layoutMode": "freeform", "isCollapsed": false, "parentLayoutMode": "freeform"}, "type": "thought", "dragging": false, "measured": {"width": 200, "height": 49}, "position": {"x": -234.63200007357563, "y": 373.4744271236448}, "selected": false}, {"id": "b8850171-2f9c-4b4d-a445-063a42062fa8", "data": {"label": "rollerblade", "urgency": 5.781296526357758, "category": "misc", "children": [], "importance": 8.671944789536637, "layoutMode": "freeform", "isCollapsed": false, "isTimedTask": true, "timeboxDate": "2025-07-22", "timeboxDuration": 120, "parentLayoutMode": "freeform", "timeboxStartTime": "14:00"}, "type": "thought", "dragging": false, "measured": {"width": 200, "height": 40}, "position": {"x": -497.8593817620749, "y": 393.1251995696598}, "selected": false}, {"id": "40d366ab-0fe5-4f7f-a22c-a37b195c2110", "data": {"label": "Work", "width": 200, "height": 45, "category": "misc", "children": ["3f14a1da-ffa9-403e-8d1a-0d839f314350", "fbab7305-c9e9-46b0-a105-1b3594dbb430", "a46039e7-d210-45d4-9149-46a8c61853c1", "75fc30a8-6a2d-4486-81f5-adcd88028141", "e194dc25-d2d3-40a3-bb0f-86629015ac94"], "layoutMode": "freeform", "isCollapsed": false, "parentLayoutMode": "freeform"}, "type": "thought", "dragging": false, "measured": {"width": 200, "height": 45}, "position": {"x": 200, "y": 450}, "selected": false}, {"id": "3f14a1da-ffa9-403e-8d1a-0d839f314350", "data": {"label": "Immunizations", "urgency": 4.581569099913263, "category": "misc", "children": [], "importance": 7.472217363092142, "layoutMode": "freeform", "isCollapsed": false, "parentLayoutMode": "freeform"}, "type": "thought", "dragging": false, "measured": {"width": 200, "height": 40}, "position": {"x": 457.43491774985176, "y": 419.52787203494955}, "selected": false}, {"id": "407a4e38-9068-424d-99ff-cee772709f3d", "data": {"label": "Scooter", "dueDate": "2025-07-23T14:18:37.246Z", "urgency": 9.163138199826527, "category": "misc", "children": [], "importance": 8.740877332749506, "layoutMode": "freeform", "taskStatus": "pending", "isCollapsed": false, "isTimedTask": true, "timeboxDate": "2025-07-21", "timeboxDuration": 120, "parentLayoutMode": "freeform", "timeboxStartTime": "14:00", "autoUrgencyFromDueDate": true}, "type": "thought", "dragging": false, "measured": {"width": 200, "height": 40}, "position": {"x": 473.5186040390246, "y": 69.25585649277151}, "selected": false}]',
    updated_at = NOW();